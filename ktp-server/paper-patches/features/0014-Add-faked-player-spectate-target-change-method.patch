From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Jatyn Stacy <jlee0964@gmail.com>
Date: Thu, 22 May 2025 17:20:03 -0400
Subject: [PATCH] Add faked player spectate target change method


diff --git a/src/main/java/org/bukkit/craftbukkit/entity/CraftPlayer.java b/src/main/java/org/bukkit/craftbukkit/entity/CraftPlayer.java
index c39a35b61bb148108cebf5bc53c11aa5c66be4e9..2d153365e8da43bd05de15e1bad83c4e974df1e5 100644
--- a/src/main/java/org/bukkit/craftbukkit/entity/CraftPlayer.java
+++ b/src/main/java/org/bukkit/craftbukkit/entity/CraftPlayer.java
@@ -1205,6 +1205,17 @@ public class CraftPlayer extends CraftHumanEntity implements Player {
         this.getHandle().connection.send(new ClientboundRemoveMobEffectPacket(entity.getEntityId(), CraftPotionEffectType.bukkitToMinecraftHolder(type)));
     }
 
+    @Override
+    public void sendSpectateTargetChange(org.bukkit.entity.@Nullable Entity target) {
+        if (this.getHandle().connection == null) return;
+
+        this.getHandle().connection.sendPacket(
+            new net.minecraft.network.protocol.game.ClientboundSetCameraPacket(
+                target == null ? this.getHandle() :  ((CraftEntity) target).getHandle()
+            )
+        );
+    }
+
     @Override
     public WorldBorder getWorldBorder() {
         return this.clientWorldBorder;
