From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Jatyn Stacy <jlee0964@gmail.com>
Date: Thu, 22 May 2025 17:20:03 -0400
Subject: [PATCH] Add faked player spectate target change method


diff --git a/src/main/java/org/bukkit/craftbukkit/entity/CraftPlayer.java b/src/main/java/org/bukkit/craftbukkit/entity/CraftPlayer.java
index 097c1826ad10bea5cff762dbe7bd539e70400b91..5f3411f26d094874242598a5a9a78f6152fcb3ca 100644
--- a/src/main/java/org/bukkit/craftbukkit/entity/CraftPlayer.java
+++ b/src/main/java/org/bukkit/craftbukkit/entity/CraftPlayer.java
@@ -1127,6 +1127,17 @@ public class CraftPlayer extends CraftHumanEntity implements Player, PluginMessa
         this.getHandle().connection.send(new ClientboundRemoveMobEffectPacket(entity.getEntityId(), CraftPotionEffectType.bukkitToMinecraftHolder(type)));
     }
 
+    @Override
+    public void sendSpectateTargetChange(org.bukkit.entity.@Nullable Entity target) {
+        if (this.getHandle().connection == null) return;
+
+        this.getHandle().connection.send(
+            new net.minecraft.network.protocol.game.ClientboundSetCameraPacket(
+                target == null ? this.getHandle() :  ((CraftEntity) target).getHandle()
+            )
+        );
+    }
+
     @Override
     public WorldBorder getWorldBorder() {
         return this.clientWorldBorder;
